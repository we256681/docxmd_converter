# ü§ñ GitHub Actions Workflows - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

## üéØ –û–±–∑–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

–í –ø—Ä–æ–µ–∫—Ç–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã 2 –æ—Å–Ω–æ–≤–Ω—ã—Ö workflow –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ CI/CD –ø—Ä–æ—Ü–µ—Å—Å–∞:

---

## üß™ **ci.yml** - –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### üéØ **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏

### üöÄ **–ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:**
- –ü—Ä–∏ push –≤ `main` –∏–ª–∏ `develop`
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ Pull Request –≤ `main`

### ‚úÖ **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏—è—Ö Python** (3.8-3.12)
2. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** (Pandoc)
3. **–õ–∏–Ω—Ç–∏–Ω–≥ –∫–æ–¥–∞** (black, isort, flake8)
4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤** (mypy)
5. **–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤** —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
6. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Enhanced Processor v2.1.0**
7. **–ü—Ä–æ–≤–µ—Ä–∫–∞ CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞**
8. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∫–∏** –ø–∞–∫–µ—Ç–∞ (–±–µ–∑ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏)

### üìä **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ó–µ–ª–µ–Ω–∞—è –≥–∞–ª–æ—á–∫–∞ = –∫–æ–¥ –≥–æ—Ç–æ–≤ –∫ –º–µ—Ä–∂—É
- ‚ùå –ö—Ä–∞—Å–Ω—ã–π –∫—Ä–µ—Å—Ç–∏–∫ = –Ω—É–∂–Ω—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

---

## üì¶ **publish.yml** - –ü—É–±–ª–∏–∫–∞—Ü–∏—è –ø–∞–∫–µ—Ç–∞

### üéØ **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–ª–∏ —Ä—É—á–Ω–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è –ø–∞–∫–µ—Ç–∞ –Ω–∞ PyPI

### üöÄ **–ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:**
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**: –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ä–µ–ª–∏–∑–∞ –Ω–∞ GitHub
- **–í—Ä—É—á–Ω—É—é**: Actions ‚Üí Publish to PyPI ‚Üí Run workflow

### ‚öôÔ∏è **–û–ø—Ü–∏–∏ —Ä—É—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞:**
- `test_pypi`: –ü—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤ Test PyPI
- `skip_tests`: –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### ‚úÖ **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**

#### **–≠—Ç–∞–ø 1: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** (test job)
1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python 3.9 + –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
2. –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ —Ç–µ—Å—Ç–æ–≤
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ Enhanced Processor

#### **–≠—Ç–∞–ø 2: –°–±–æ—Ä–∫–∞ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è** (build-and-publish job)
1. –°–±–æ—Ä–∫–∞ –ø–∞–∫–µ—Ç–∞ (`python -m build`)
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞–∫–µ—Ç–∞ (`twine check`)
3. **Test PyPI**: –µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω–∞ –æ–ø—Ü–∏—è
4. **PyPI**: –µ—Å–ª–∏ —Ä–µ–ª–∏–∑ —Å–æ–∑–¥–∞–Ω
5. –°–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ —Å–±–æ—Ä–∫–∏
6. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ —Ä–µ–ª–∏–∑—É —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π

### üîê **–¢—Ä–µ–±—É–µ–º—ã–µ —Å–µ–∫—Ä–µ—Ç—ã:**
- `PYPI_API_TOKEN` - –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ PyPI
- `TEST_PYPI_API_TOKEN` - –¥–ª—è Test PyPI

---

## üéÆ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å workflows

### üìù **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (CI):**

```bash
# 1. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –≤ –≤–µ—Ç–∫–µ
git checkout -b feature/new-feature
# –≤–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è

# 2. Push –∑–∞–ø—É—Å—Ç–∏—Ç ci.yml
git push origin feature/new-feature

# 3. –°–æ–∑–¥–∞—Ç—å PR ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
# 4. –ú–µ—Ä–∂ –ø–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –≤—Å–µ—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
```

### üöÄ **–†–µ–ª–∏–∑ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π):**

```bash
# 1. –û–±–Ω–æ–≤–∏—Ç—å –≤–µ—Ä—Å–∏—é
bump2version minor

# 2. Push –≤ main
git push origin main

# 3. –°–æ–∑–¥–∞—Ç—å —Ä–µ–ª–∏–∑
gh release create v2.1.0 --title "Release v2.1.0" --notes-file CHANGELOG.md

# 4. GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
#    - –ó–∞–ø—É—Å—Ç–∏—Ç —Ç–µ—Å—Ç—ã
#    - –°–æ–±–µ—Ä–µ—Ç –ø–∞–∫–µ—Ç
#    - –û–ø—É–±–ª–∏–∫—É–µ—Ç –Ω–∞ PyPI
#    - –î–æ–±–∞–≤–∏—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ —Ä–µ–ª–∏–∑—É
```

### üéõÔ∏è **–ü—É–±–ª–∏–∫–∞—Ü–∏—è (—Ä—É—á–Ω–∞—è):**

1. **GitHub UI**: Actions ‚Üí Publish to PyPI ‚Üí Run workflow
2. **–í—ã–±—Ä–∞—Ç—å –æ–ø—Ü–∏–∏**:
   - ‚òëÔ∏è Test PyPI only (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
   - ‚òëÔ∏è Skip tests (–µ—Å–ª–∏ —É–≤–µ—Ä–µ–Ω—ã –≤ –∫–æ–¥–µ)
3. **Run workflow**

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞

### üîç **–ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:**
1. **GitHub**: —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π ‚Üí Actions
2. **–°—Ç–∞—Ç—É—Å**: –∑–µ–ª–µ–Ω—ã–µ –≥–∞–ª–æ—á–∫–∏/–∫—Ä–∞—Å–Ω—ã–µ –∫—Ä–µ—Å—Ç–∏–∫–∏
3. **–õ–æ–≥–∏**: –∫–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∑–∞–ø—É—Å–∫

### üõ†Ô∏è **–û—Ç–ª–∞–¥–∫–∞ –æ—à–∏–±–æ–∫:**

#### **CI –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ —Ç–æ –∂–µ, —á—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç CI:
black --check .
isort --check-only .
flake8 --config=.flake8 .
mypy docxmd_converter --ignore-missing-imports
pytest tests/ -v
```

#### **–ü—É–±–ª–∏–∫–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã**: Settings ‚Üí Secrets ‚Üí Actions
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ–∫–µ–Ω—ã**: –Ω–∞ PyPI –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∞–∫—Ç–∏–≤–Ω—ã
3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é**: –Ω–µ –¥–æ–ª–∂–Ω–∞ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ PyPI

---

## ‚ö° –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã

### **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ workflow:**
```bash
gh run list --limit 5
```

### **–ó–∞–ø—É—Å—Ç–∏—Ç—å workflow –≤—Ä—É—á–Ω—É—é:**
```bash
# –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ Test PyPI
gh workflow run publish.yml -f test_pypi=true

# –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ PyPI (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!)
gh workflow run publish.yml
```

### **–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–∞–ø—É—Å–∫–∞:**
```bash
gh run view --log
```

---

## üè∑Ô∏è –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ç–µ–≥–∏

### **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
# Patch –≤–µ—Ä—Å–∏—è (2.0.1 ‚Üí 2.0.2)
bump2version patch

# Minor –≤–µ—Ä—Å–∏—è (2.0.1 ‚Üí 2.1.0)
bump2version minor

# Major –≤–µ—Ä—Å–∏—è (2.0.1 ‚Üí 3.0.0)
bump2version major
```

### **–°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ª–∏–∑–∞:**
```bash
# –° –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –∑–∞–º–µ—Ç–æ–∫
gh release create v2.1.0 --generate-notes

# –° –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –∑–∞–º–µ—Ç–∫–∞–º–∏
gh release create v2.1.0 --title "Release v2.1.0" --notes-file CHANGELOG.md
```

---

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚úÖ **–ß—Ç–æ –∑–∞—â–∏—â–µ–Ω–æ:**
- **API —Ç–æ–∫–µ–Ω—ã** —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ GitHub Secrets
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –ø–µ—Ä–µ–¥ –∫–∞–∂–¥–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π
- **Test PyPI** –¥–ª—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∫–∏** —Å twine check

### ‚ö†Ô∏è **–í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã:**
- **–ù–µ –∫–æ–º–º–∏—Ç–∏—Ç—å —Ç–æ–∫–µ–Ω—ã** –≤ –∫–æ–¥
- **–†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å** API —Ç–æ–∫–µ–Ω—ã
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–Ω–∞—á–∞–ª–∞** –≤ Test PyPI
- **–ü—Ä–æ–≤–µ—Ä—è—Ç—å –≤–µ—Ä—Å–∏—é** –ø–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π

---

## üìã Troubleshooting

### **–¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**

| –ü—Ä–æ–±–ª–µ–º–∞ | –°–∏–º–ø—Ç–æ–º | –†–µ—à–µ–Ω–∏–µ |
|----------|---------|---------|
| **–¢–µ—Å—Ç—ã –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—Ç** | ‚ùå Red CI | –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥ + –ø–æ–≤—Ç–æ—Ä–∏—Ç—å push |
| **–ü—É–±–ª–∏–∫–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç** | ‚ùå Publish failed | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ–∫–µ–Ω—ã –≤ Secrets |
| **–í–µ—Ä—Å–∏—è —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç** | ‚ùå File exists error | –û–±–Ω–æ–≤–∏—Ç—å –≤–µ—Ä—Å–∏—é –≤ pyproject.toml |
| **Pandoc –Ω–µ –Ω–∞–π–¥–µ–Ω** | ‚ùå pandoc: command not found | –û–±–Ω–æ–≤–∏—Ç—å system dependencies –≤ workflow |

### **–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:**
```bash
# –õ–æ–∫–∞–ª—å–Ω–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ CI
python -m pytest tests/ -v
black --check .
python -m build
twine check dist/*

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å GitHub CLI
gh auth status
gh workflow list
```

---

**‚úÖ –° —ç—Ç–∏–º–∏ workflows —É –≤–∞—Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø–æ–ª–Ω—ã–π CI/CD pipeline –¥–ª—è DocxMD Converter!**
